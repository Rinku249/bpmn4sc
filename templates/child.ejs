template <%= parent.id %> 
    with
        <%= parent.signatory %> : party
        done : bool
        <%- last.id -%> : party
    where
        signatory <%= parent.signatory %>
        
        nonconsuming choice <%= child.id %> : ()
            controller <%= parent.signatory %>
            do
                if <%= last.id %>.done then do
                    let this.done = True
                    exercise self Archive
                else do
                    return ()

        

